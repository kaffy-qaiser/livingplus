<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Agrim Sharma and Khyaif Qaiser" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Search Page </title>
    <link rel="stylesheet" href="styles/search.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="sidebar">
    <div class="logo-details">
        <img src="images/logo.png" alt="Logo" class="logo" onclick="closeSidebar()">
        <i class='bx bx-plus' id="btn"></i>
    </div>
    <ul class="nav-list">
        <li>
            <a href="#">
                <i class='bx bx-home'></i>
                <span class="links_name">Home</span>
            </a>
            <span class="tooltip">Home</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-search'></i>
                <span class="links_name">Search</span>
            </a>
            <span class="tooltip">Search</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-heart'></i>
                <span class="links_name">Favorites</span>
            </a>
            <span class="tooltip">Favorites</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-chat'></i>
                <span class="links_name">Messages</span>
            </a>
            <span class="tooltip">Messages</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-star'></i>
                <span class="links_name">Reviews</span>
            </a>
            <span class="tooltip">Reviews</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-compass'></i>
                <span class="links_name">Explore</span>
            </a>
            <span class="tooltip">Explore</span>
        </li>
        <li>
            <a href="#">
                <i class='bx bx-user'></i>
                <span class="links_name">Profile</span>
            </a>
            <span class="tooltip">Profile</span>
        </li>
        <li class="profile">
            <a href="#">
                <i class='bx bx-log-out'></i>
                <span class="links_name">Logout</span>
            </a>
            <span class="tooltip">Logout</span>
        </li>

    </ul>
</div>
<div class="search-filters">
    <form class="filter-form">
        <input type="text" id="search-bar" placeholder="Search...">

        <select id="neighborhood-dropdown">
            <option value="">Neighborhood</option>
            <option value="JPA">JPA</option>
            <option value="The Corner">The Corner</option>
        </select>

        <label for="price-range">Price Range:</label>
        <input type="range" id="price-range" name="price" min="0" max="2000" step="50" value="1000" oninput="updateOutput('price-range', 'priceOutputId')">
        <output id="priceOutputId">1000</output>

        <label for="bath-range">Baths:</label>
        <input type="range" id="bath-range" name="baths" min="0" max="20" step="1" value="1" oninput="updateOutput('bath-range', 'bathOutputId')">
        <output id="bathOutputId">1</output>

        <label for="bed-range">Beds:</label>
        <input type="range" id="bed-range" name="beds" min="0" max="20" step="1" value="1" oninput="updateOutput('bed-range', 'bedOutputId')">
        <output id="bedOutputId">1</output>


        <button type="submit">Search</button>
    </form>
</div>
<!--  The navbar was taken from this youtube video: https://www.youtube.com/watch?v=wEfaoAa99XY-->
<script>
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchFilters = document.querySelector(".search-filters");

    closeBtn.addEventListener("click", () => {
        sidebar.classList.toggle("open");
        menuBtnChange();
        adjustSearchFilters();
    });

    function menuBtnChange() {
        if(sidebar.classList.contains("open")){
            closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
        }else {
            closeBtn.classList.replace("bx-menu-alt-right", "bx-menu");
        }
    }

    function adjustSearchFilters() {
        const sidebarWidth = sidebar.classList.contains("open") ? 250 : 78;
        const searchFiltersWidth = window.innerWidth - sidebarWidth;

        searchFilters.style.width = `${searchFiltersWidth}px`;

        searchFilters.style.marginLeft = `${sidebarWidth}px`;
    }

    document.addEventListener("DOMContentLoaded", adjustSearchFilters);
    closeBtn.addEventListener("click", adjustSearchFilters);
    window.addEventListener('resize', adjustSearchFilters);

    function updateOutput(sliderId, outputId) {
        var slider = document.getElementById(sliderId);
        var output = document.getElementById(outputId);
        output.value = slider.value;
    }

    function closeSidebar() {
        sidebar.classList.remove("open");
        menuBtnChange();
        adjustSearchFilters();
    }

</script>
</body>
</html>
